{
  "folders": [
    {
      "name": "üè† Homelab Root",
      "path": "."
    },
    {
      "name": "‚ò∏Ô∏è Kubernetes",
      "path": "../Homelab/infra/kubernetes"
    },
    {
      "name": "üîß Terraform",
      "path": "../Homelab/infra/terraform"
    },
    {
      "name": "‚öôÔ∏è Ansible",
      "path": "../Homelab/infra/ansible"
    },
    {
      "name": "üìú Scripts",
      "path": "../Homelab/infra/scripts"
    },
    {
      "name": "üìö Documentation",
      "path": "../Homelab/docs"
    }
  ],
  "settings": {
    // ================================================================
    // AI ASSISTANT OPTIMIZATION
    // ================================================================

    // Enable all AI assistants
    "github.copilot.enable": {
      "*": true,
      "yaml": true,
      "markdown": true,
      "terraform": true,
      "python": true,
      "shellscript": true
    },
    "github.copilot.editor.enableAutoCompletions": true,

    // Continue.dev - primary AI for homelab
    "continue.telemetryEnabled": false,
    "continue.enableTabAutocomplete": true,

    // AI-friendly editor settings
    "editor.inlineSuggest.enabled": true,
    "editor.suggest.preview": true,
    "editor.acceptSuggestionOnEnter": "on",
    "editor.suggestSelection": "first",
    "editor.quickSuggestions": {
      "other": "on",
      "comments": "on",
      "strings": "on"
    },

    // ================================================================
    // TERMINAL CONFIGURATION FOR AI AGENTS
    // ================================================================

    // Windows terminals
    "terminal.integrated.profiles.windows": {
      "PowerShell (Admin)": {
        "source": "PowerShell",
        "icon": "terminal-powershell",
        "color": "terminal.ansiBlue"
      },
      "WSL - Ubuntu (AI Preferred)": {
        "path": "wsl.exe",
        "args": ["-d", "Ubuntu-22.04"],
        "icon": "terminal-linux",
        "color": "terminal.ansiGreen"
      },
      "Command Prompt": {
        "path": "cmd.exe",
        "icon": "terminal-cmd"
      }
    },
    "terminal.integrated.defaultProfile.windows": "WSL - Ubuntu (AI Preferred)",

    // Linux terminals (when in WSL)
    "terminal.integrated.profiles.linux": {
      "bash": {
        "path": "/bin/bash",
        "icon": "terminal-bash"
      }
    },
    "terminal.integrated.defaultProfile.linux": "bash",

    // Terminal behavior
    "terminal.integrated.scrollback": 10000,
    "terminal.integrated.fontSize": 14,
    "terminal.integrated.fontFamily": "Consolas, 'Courier New', monospace",
    "terminal.integrated.copyOnSelection": true,
    "terminal.integrated.rightClickBehavior": "paste",

    // ================================================================
    // FILE ORGANIZATION & NAVIGATION
    // ================================================================

    // Explorer settings
    "explorer.sortOrder": "type",
    "explorer.confirmDelete": false,
    "explorer.confirmDragAndDrop": false,
    "explorer.compactFolders": false,

    // File associations for homelab
    "files.associations": {
      "*.yaml": "yaml",
      "*.yml": "yaml",
      "*.tf": "terraform",
      "*.tfvars": "terraform",
      "*.hcl": "hcl",
      "*.j2": "jinja",
      "*.jinja": "jinja",
      "*.jinja2": "jinja",
      "Makefile*": "makefile",
      "*.bu": "yaml",
      "*.ign": "json",
      ".ansible-lint": "yaml",
      ".yamllint": "yaml",
      "*.service": "ini",
      "*.mount": "ini",
      "*.timer": "ini",
      "Dockerfile*": "dockerfile",
      "*.dockerignore": "ignore",
      "*.gitignore": "ignore"
    },

    // Files to exclude from explorer (keep it clean!)
    "files.exclude": {
      "**/.git": true,
      "**/.terraform": true,
      "**/__pycache__": true,
      "**/*.pyc": true,
      "**/.pytest_cache": true,
      "**/.mypy_cache": true,
      "**/node_modules": true,
      "**/.venv": true,
      "**/.DS_Store": true,
      "**/venv": true
    },

    // Search exclusions (faster searches)
    "search.exclude": {
      "**/.git": true,
      "**/.terraform": true,
      "**/__pycache__": true,
      "**/node_modules": true,
      "**/.venv": true,
      "**/venv": true,
      "**/*.tfstate": true,
      "**/*.tfstate.backup": true
    },

    // ================================================================
    // CODE QUALITY & LINTING
    // ================================================================

    // Auto-format on save (AI loves clean code!)
    "editor.formatOnSave": true,
    "editor.formatOnPaste": false,
    "editor.codeActionsOnSave": {
      "source.organizeImports": "explicit",
      "source.fixAll": "explicit"
    },

    // Show errors inline (AI can help fix them!)
    "errorLens.enabledDiagnosticLevels": [
      "error",
      "warning"
    ],
    "errorLens.delay": 500,

    // Prettier configuration
    "prettier.enable": true,
    "prettier.requireConfig": true,
    "prettier.configPath": ".prettierrc.json",

    // ================================================================
    // LANGUAGE-SPECIFIC SETTINGS
    // ================================================================

    // Terraform
    "[terraform]": {
      "editor.defaultFormatter": "hashicorp.terraform",
      "editor.formatOnSave": true,
      "editor.formatOnSaveMode": "file"
    },
    "terraform.languageServer.enable": true,
    "terraform.experimentalFeatures.validateOnSave": true,

    // YAML (Kubernetes, Ansible)
    "[yaml]": {
      "editor.defaultFormatter": "redhat.vscode-yaml",
      "editor.tabSize": 2,
      "editor.autoIndent": "advanced",
      "editor.insertSpaces": true
    },
    "yaml.format.enable": true,
    "yaml.validate": true,
    "yaml.hover": true,
    "yaml.completion": true,
    "yaml.schemas": {
      "kubernetes": [
        "kubernetes/**/*.yaml",
        "kubernetes/**/*.yml",
        "k8s/**/*.yaml"
      ],
      "https://json.schemastore.org/ansible-stable-2.9": [
        "ansible/**/*.yml",
        "ansible/**/*.yaml"
      ],
      "https://json.schemastore.org/docker-compose.json": [
        "docker-compose*.yml",
        "compose/**/*.yml"
      ]
    },

    // Python
    "[python]": {
      "editor.defaultFormatter": "ms-python.black-formatter",
      "editor.formatOnSave": true,
      "editor.tabSize": 4,
      "editor.codeActionsOnSave": {
        "source.organizeImports": "explicit"
      }
    },
    "python.defaultInterpreterPath": "/usr/bin/python3",
    "python.linting.enabled": true,
    "python.linting.pylintEnabled": true,

    // Markdown (AI-friendly formatting)
    "[markdown]": {
      "editor.defaultFormatter": "esbenp.prettier-vscode",
      "editor.wordWrap": "on",
      "editor.wordWrapColumn": 100,
      "editor.quickSuggestions": {
        "comments": "on",
        "strings": "on",
        "other": "on"
      },
      "files.trimTrailingWhitespace": false
    },

    // JSON
    "[json]": {
      "editor.defaultFormatter": "esbenp.prettier-vscode",
      "editor.tabSize": 2
    },

    // Shell scripts
    "[shellscript]": {
      "editor.defaultFormatter": "foxundermoon.shell-format",
      "editor.tabSize": 2
    },
    "shellcheck.enable": true,
    "shellcheck.run": "onSave",

    // ================================================================
    // GIT INTEGRATION
    // ================================================================

    "git.autofetch": true,
    "git.confirmSync": false,
    "git.enableSmartCommit": true,
    "git.suggestSmartCommit": true,
    "gitlens.advanced.messages": {
      "suppressCommitHasNoPreviousCommitWarning": true
    },

    // ================================================================
    // SPELL CHECKING (HOMELAB-OPTIMIZED)
    // ================================================================

    "cSpell.enabled": true,
    "cSpell.diagnosticLevel": "Warning",
    "cSpell.showStatus": true,

    // ================================================================
    // BREADCRUMBS & NAVIGATION
    // ================================================================

    "breadcrumbs.enabled": true,
    "breadcrumbs.filePath": "on",
    "breadcrumbs.symbolPath": "on",

    // ================================================================
    // MINIMAP & EDITOR CHROME
    // ================================================================

    "editor.minimap.enabled": true,
    "editor.minimap.maxColumn": 120,
    "editor.minimap.renderCharacters": false,
    "editor.minimap.showSlider": "always",

    // Line numbers and rulers
    "editor.lineNumbers": "on",
    "editor.rulers": [100, 120],
    "editor.renderWhitespace": "boundary",

    // ================================================================
    // WORKSPACE TRUST & SECURITY
    // ================================================================

    "security.workspace.trust.enabled": true,
    "security.workspace.trust.untrustedFiles": "prompt",

    // ================================================================
    // PERFORMANCE OPTIMIZATIONS
    // ================================================================

    "files.watcherExclude": {
      "**/.git/objects/**": true,
      "**/.git/subtree-cache/**": true,
      "**/node_modules/**": true,
      "**/.terraform/**": true,
      "**/__pycache__/**": true
    },

    // Remote WSL settings
    "remote.WSL.fileWatcher.polling": true,
    "remote.WSL.useShellEnvironment": true,

    // ================================================================
    // WORKBENCH APPEARANCE & UI LAYOUT
    // ================================================================

    // Theme and icons
    "workbench.colorTheme": "Default Dark+",
    "workbench.iconTheme": "vscode-icons",
    "workbench.startupEditor": "readme",

    // Editor behavior
    "workbench.editor.enablePreview": false,
    "workbench.editor.closeOnFileDelete": true,
    "workbench.editor.openPositioning": "last",
    "workbench.editor.showTabs": "multiple",
    "workbench.editor.tabSizing": "shrink",
    "workbench.editor.wrapTabs": false,

    // Sidebar configuration - LEFT SIDE (File Explorer)
    "workbench.sideBar.location": "left",
    "workbench.activityBar.visible": true,
    "workbench.activityBar.location": "default",
    "workbench.tree.indent": 20,
    "workbench.tree.renderIndentGuides": "always",

    // Primary sidebar views (show by default)
    "workbench.view.alwaysShowHeaderActions": true,

    // Panel configuration - BOTTOM (Terminal, Output, Problems)
    "workbench.panel.defaultLocation": "bottom",
    "workbench.panel.opensMaximized": "never",

    // Status bar (bottom)
    "workbench.statusBar.visible": true,

    // Layout proportions
    "workbench.editor.splitSizing": "split",

    // Window title
    "window.title": "${rootName}${separator}${activeEditorShort}",
    "window.titleBarStyle": "custom",

    // ================================================================
    // DEFAULT VIEW/PANEL VISIBILITY FOR HOMELAB
    // ================================================================

    // Left sidebar - Explorer view by default
    "workbench.startupEditor": "readme",

    // Problems panel - always visible for linting
    "problems.autoReveal": true,
    "problems.showCurrentInStatus": true,

    // Output panel - auto-show for builds/tasks
    "output.smartScroll.enabled": true,

    // Terminal panel - integrated at bottom
    "terminal.integrated.defaultLocation": "view",

    // Extensions sidebar - minimize to save space
    "extensions.autoUpdate": "onlyEnabledExtensions",
    "extensions.ignoreRecommendations": false,

    // Search - show in primary sidebar
    "search.collapseResults": "auto",
    "search.smartCase": true,

    // Source Control (Git) - show in sidebar
    "scm.defaultViewMode": "tree",
    "scm.autoReveal": true,

    // ================================================================
    // SPLIT EDITOR LAYOUT OPTIMIZATION
    // ================================================================

    // When opening files side-by-side
    "workbench.editor.splitInGroupLayout": "vertical",
    "workbench.editor.limit.enabled": true,
    "workbench.editor.limit.value": 10,
    "workbench.editor.limit.perEditorGroup": true,

    // Diff editor
    "diffEditor.ignoreTrimWhitespace": false,
    "diffEditor.renderSideBySide": true,

    // ================================================================
    // PEEK & PREVIEW BEHAVIOR
    // ================================================================

    // Peek editor (Go to Definition, etc.)
    "editor.peekWidgetDefaultFocus": "editor",
    "references.preferredLocation": "peek",
    "gotoLocation.multipleDefinitions": "peek",
    "gotoLocation.multipleReferences": "peek",
    "gotoLocation.multipleImplementations": "peek",

    // ================================================================
    // KUBERNETES & CLOUD INTEGRATION PANELS
    // ================================================================

    // Kubernetes tree view (if extension installed)
    "vs-kubernetes": {
      "vs-kubernetes.crd-code-completion": "enabled",
      "vs-kubernetes.kubectl-path.windows": "wsl kubectl"
    },

    // Docker view
    "docker.truncateLongRegistryPaths": false,
    "docker.truncateMaxLength": 30,

    // ================================================================
    // TODO TREE (TASK TRACKING)
    // ================================================================

    "todo-tree.general.tags": [
      "TODO",
      "FIXME",
      "NOTE",
      "HACK",
      "XXX",
      "BUG",
      "OPTIMIZE"
    ],
    "todo-tree.highlights.defaultHighlight": {
      "icon": "alert",
      "type": "text",
      "foreground": "#ffffff",
      "background": "#ffbd2e",
      "opacity": 50
    },

    // ================================================================
    // PATH INTELLISENSE
    // ================================================================

    "path-intellisense.mappings": {
      "/": "${workspaceFolder}"
    }
  },

  // ================================================================
  // RECOMMENDED EXTENSIONS (AUTO-INSTALL)
  // ================================================================

  "extensions": {
    "recommendations": [
      // AI Assistants (PRIORITY!)
      "github.copilot",
      "github.copilot-chat",
      "anthropic.claude-code",
      "google.geminicodeassist",
      "continue.continue",

      // Infrastructure as Code
      "hashicorp.terraform",
      "hashicorp.hcl",

      // Configuration Management
      "redhat.ansible",
      "wholroyd.jinja",

      // Kubernetes & Containers
      "ms-kubernetes-tools.vscode-kubernetes-tools",
      "ms-azuretools.vscode-docker",

      // YAML Support
      "redhat.vscode-yaml",

      // Python
      "ms-python.python",
      "ms-python.vscode-pylance",
      "ms-python.black-formatter",
      "charliermarsh.ruff",

      // Shell
      "timonwong.shellcheck",
      "foxundermoon.shell-format",

      // Git
      "eamodio.gitlens",
      "mhutchie.git-graph",

      // Markdown
      "yzhang.markdown-all-in-one",
      "davidanson.vscode-markdownlint",

      // Code Quality
      "editorconfig.editorconfig",
      "streetsidesoftware.code-spell-checker",
      "esbenp.prettier-vscode",
      "usernamehw.errorlens",

      // Remote Development
      "ms-vscode-remote.remote-wsl",
      "ms-vscode-remote.remote-containers",

      // Utilities
      "gruntfuggly.todo-tree",
      "aaron-bond.better-comments",
      "christian-kohler.path-intellisense",
      "vscode-icons-team.vscode-icons"
    ],
    "unwantedRecommendations": [
      "ms-vscode.vscode-typescript-next",
      "trunk.io"
    ]
  },

  // ================================================================
  // CUSTOM TASKS (ACCESSIBLE VIA CTRL+SHIFT+B)
  // ================================================================

  "tasks": {
    "version": "2.0.0",
    "tasks": [
      // Quick homelab health check
      {
        "label": "üè• Homelab Health Check",
        "type": "shell",
        "command": "kubectl get nodes && kubectl get pods -A | grep -v Running || echo 'All pods running!'",
        "presentation": {
          "reveal": "always",
          "panel": "new"
        },
        "problemMatcher": [],
        "group": {
          "kind": "build",
          "isDefault": true
        }
      },

      // Validate all code
      {
        "label": "‚úÖ Validate All Code",
        "type": "shell",
        "command": "pre-commit run --all-files",
        "presentation": {
          "reveal": "always"
        },
        "problemMatcher": []
      },

      // Deploy with AI assistance
      {
        "label": "üöÄ Deploy (Ask AI for help!)",
        "type": "shell",
        "command": "echo 'Tip: Ask your AI assistant: Deploy the homelab infrastructure'",
        "presentation": {
          "reveal": "always"
        }
      },

      // Terraform tasks
      {
        "label": "terraform-plan",
        "type": "shell",
        "command": "terraform plan -out=tfplan",
        "options": {
          "cwd": "${workspaceFolder:Terraform}"
        },
        "presentation": {
          "reveal": "always",
          "panel": "dedicated"
        },
        "problemMatcher": []
      },
      {
        "label": "terraform-apply",
        "type": "shell",
        "command": "terraform apply tfplan",
        "options": {
          "cwd": "${workspaceFolder:Terraform}"
        },
        "presentation": {
          "reveal": "always",
          "panel": "dedicated"
        },
        "problemMatcher": [],
        "dependsOn": ["terraform-plan"]
      },

      // Ansible tasks
      {
        "label": "ansible-dry-run",
        "type": "shell",
        "command": "ansible-playbook ${file} --check",
        "options": {
          "cwd": "${workspaceFolder:Ansible}"
        },
        "presentation": {
          "reveal": "always",
          "panel": "dedicated"
        },
        "problemMatcher": []
      },
      {
        "label": "ansible-run",
        "type": "shell",
        "command": "ansible-playbook ${file}",
        "options": {
          "cwd": "${workspaceFolder:Ansible}"
        },
        "presentation": {
          "reveal": "always",
          "panel": "dedicated"
        },
        "problemMatcher": []
      },

      // Kubernetes tasks
      {
        "label": "k8s-port-forward",
        "type": "shell",
        "command": "kubectl port-forward ${input:podName} ${input:localPort}:${input:remotePort}",
        "presentation": {
          "reveal": "always",
          "panel": "dedicated"
        },
        "problemMatcher": []
      },

      // Observability tasks
      {
        "label": "üîç Open K9s",
        "type": "shell",
        "command": "k9s",
        "presentation": {
          "reveal": "always",
          "panel": "new"
        }
      },
      {
        "label": "üìä Open Grafana",
        "type": "shell",
        "command": "xdg-open http://grafana.homelab.local:3000 || open http://grafana.homelab.local:3000",
        "presentation": {
          "reveal": "silent"
        }
      },
      {
        "label": "üìà Open Prometheus",
        "type": "shell",
        "command": "xdg-open http://prometheus.homelab.local:9090 || open http://prometheus.homelab.local:9090",
        "presentation": {
          "reveal": "silent"
        }
      }
    ],
    "inputs": [
      {
        "id": "podName",
        "type": "promptString",
        "description": "Pod name to port-forward",
        "default": "my-pod-name"
      },
      {
        "id": "localPort",
        "type": "promptString",
        "description": "Local port",
        "default": "8080"
      },
      {
        "id": "remotePort",
        "type": "promptString",
        "description": "Remote port",
        "default": "8080"
      }
    ]
  },

  // ================================================================
  // LAUNCH CONFIGURATIONS (FOR DEBUGGING)
  // ================================================================

  "launch": {
    "version": "0.2.0",
    "configurations": [
      // Python debugging
      {
        "name": "Python: Current File",
        "type": "python",
        "request": "launch",
        "program": "${file}",
        "console": "integratedTerminal",
        "justMyCode": false
      },
      // MCP Server testing
      {
        "name": "Test MCP Server",
        "type": "node",
        "request": "launch",
        "program": "${workspaceFolder}/mcp-server/homelab-mcp-server.js",
        "console": "integratedTerminal"
      },
      // Terraform operations
      {
        "name": "Terraform: Plan Current Module",
        "type": "extensionHost",
        "request": "launch",
        "runtimeExecutable": "${execPath}",
        "args": [
          "--extensionDevelopmentPath=${workspaceFolder}",
          "${workspaceFolder:Terraform}"
        ],
        "preLaunchTask": "terraform-plan"
      },
      {
        "name": "Terraform: Apply Current Module",
        "type": "extensionHost",
        "request": "launch",
        "runtimeExecutable": "${execPath}",
        "args": [
          "--extensionDevelopmentPath=${workspaceFolder}",
          "${workspaceFolder:Terraform}"
        ],
        "preLaunchTask": "terraform-apply"
      },
      // Ansible playbook execution
      {
        "name": "Ansible: Dry Run Current Playbook",
        "type": "extensionHost",
        "request": "launch",
        "runtimeExecutable": "${execPath}",
        "args": [
          "--extensionDevelopmentPath=${workspaceFolder}",
          "${workspaceFolder:Ansible}"
        ],
        "preLaunchTask": "ansible-dry-run"
      },
      {
        "name": "Ansible: Run Current Playbook",
        "type": "extensionHost",
        "request": "launch",
        "runtimeExecutable": "${execPath}",
        "args": [
          "--extensionDevelopmentPath=${workspaceFolder}",
          "${workspaceFolder:Ansible}"
        ],
        "preLaunchTask": "ansible-run"
      },
      // Kubernetes debugging
      {
        "name": "K8s: Port Forward to Pod",
        "type": "extensionHost",
        "request": "launch",
        "runtimeExecutable": "${execPath}",
        "args": [
          "--extensionDevelopmentPath=${workspaceFolder}",
          "${workspaceFolder:Kubernetes}"
        ],
        "preLaunchTask": "k8s-port-forward"
      }
    ]
  }
}
